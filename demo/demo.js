const pgns = {
  bad: ``,
  mammoth1: `
[Event "4th Match, 16th game, London 1834"]
[Site "https://lichess.org/study/EV81yS0v/EDqFMrdj"]
[Date "1834"]
[White "Alexander McDonnell"]
[Black "Louis Charles de Labourdonnais"]
[Result "0-1"]
[UTCDate "2022.07.13"]
[UTCTime "15:55:52"]
[Variant "Standard"]
[ECO "B32"]
[Opening "Sicilian Defense: LÃ¶wenthal Variation"]
[Annotator "https://lichess.org/@/nickvisel"]

{ This study contains games 1-?? (work in progress), part 1 of ??, from The Mammoth Book of the World's Greatest Chess Games: 4th edition. I'm putting games in as I go through the book.

You can find the book here for an absurdly low price: https://www.amazon.com/Mammoth-Worlds-Greatest-Chess-Games-ebook/dp/B08V23CZM5 }
1. e4 { By the way, I learned about this book thanks to the Perpetual Chess Podcast by Ben Johnson. Link here: https://www.perpetualchesspod.com/new-blog/2022/3/25/book-recap-25-the-mammoth-book-of-the-worlds-greatest-chess-games-with-nm-chrisopher-chabris-and-fm-graham-burgess } 1... c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 e5 5. Nxc6 (5. Nb5) 5... bxc6 6. Bc4 Nf6 7. Bg5 Be7 8. Qe2 { [%cal Ra6f1] } (8. Nc3)  (8. Bxf6 { [%cal Gb1c3,Ge7f6] } 8... Bxf6 9. Nc3) 8... d5 9. Bxf6 (9. exd5 cxd5 (9... Nxd5) 10. Bb5+ Bd7 11. Nc3 (11. Bxd7+ Nxd7 12. Bxe7 Qxe7 { [%csl Ge5,Gd5] }) 11... d4 12. Bxf6 Bxf6 13. Nd5 Qa5+ 14. b4 (14. c3 Bxb5 15. Qxb5+ Qxb5 16. Nc7+ Kd7 17. Nxb5 Rab8 { [%csl Rb2][%cal Gb8b2] }) 14... Bxb5 15. bxa5 Bxe2 16. Nc7+ { [%csl Ra5,Ra2,Rc2] } 16... Kd7 17. Nxa8 Ba6 { [%csl Ra8,Ga7,Gd7][%cal Ra8b6,Ra8c7] }) 9... Bxf6 10. Bb3 O-O 11. O-O a5 { [%csl Re2,Rf1][%cal Ga5a4,Gc8a6,Ga6f1] } 12. exd5 cxd5 13. Rd1 d4 14. c4 { [%csl Ge5,Gd4] } (14. c3)  (14. Nd2) 14... Qb6 15. Bc2 Bb7 (15... Qxb2 16. Bxh7+ { [%csl Gb2][%cal Re2b2] }) 16. Nd2 Rae8 { [%csl Ge8,Gf8,Bf7][%cal Ge5e4,Gf7f4,Bf6d8] } (16... Qxb2 17. Bxh7+ (17. Qd3 e4 (17... g6 18. Rab1 e4) 18. Nxe4 Bxe4 19. Qxe4 g6) 17... Kxh7 18. Rab1) 17. Ne4 Bd8 { [%cal Gf7f5] } 18. c5 Qc6 19. f3 Be7 { [%csl Rd6][%cal Re4d6] } 20. Rac1 f5 21. Qc4+ Kh8 (21... Qd5 22. Qb5 { [%csl Rd5][%cal Gc2b3,Gb3g8] })  (21... Rf7 22. Ba4 Qc8 23. Bxe8 Qxe8 24. Nd6 Bxd6 25. cxd6) 22. Ba4 Qh6 23. Bxe8 (23. Nd6 Bxd6 24. Bxe8 Bc7 25. c6 (25. Qb3 e4 26. g3 Ba6 { [%cal Ga6f1] } (26... Rxe8 27. Qxb7 Qe3+ 28. Kh1 Qxf3+ 29. Kg1)) 25... e4 26. cxb7 (26. h3 Qe3+ 27. Kf1 (27. Kh1 Qf4) 27... Bh2)  (26. g3 Qe3+ 27. Kf1 Qxf3+ 28. Kg1 Bxg3 (28... Bc8 29. Rf1) 29. hxg3 (29. Rf1 Qe3+ 30. Kg2 Be5 (30... Qd2+ 31. Kxg3 f4+ 32. Kh3 f3 33. Rg1 (33. Qc2 Qh6+ 34. Kg3 Qg5+ 35. Kf2 (35. Kh3 Rf4) 35... Qe3+ 36. Kg3 f2+ 37. Kg4 Qf3+ 38. Kh4 Rf4+ 39. Kg5 Qg4#) 33... Qh6+ 34. Kg3 Qf4+ 35. Kf2 (35. Kh3 Rf6 { [%cal Gf6h6] }) 35... Qxh2+ 36. Kf1 e3 { [%cal Ge3e2] }) 31. Qc5 (31. cxb7 Qh6 { [%csl Rh2][%cal Gh6h2] }) 31... Qd2+ 32. Rf2 Qg5+ 33. Kh1 Bd6 34. Qxd6 (34. Qc2 d3) 34... Qxc1+ 35. Kg2 Qg5+ 36. Kh1 Rxe8 (36... Qf6 37. Qxf6 gxf6 38. cxb7 Rxe8 39. Rc2 { [%csl Gb7][%cal Gc2c8] }) 37. cxb7) 29... Qxg3+ 30. Kf1 (30. Kh1 Rf6 { [%cal Gf6h6] }) 30... d3 31. Qc5 (31. cxb7 e3) 31... Rxe8 32. Qg1 Qf3+ 33. Qf2 Qxf2+ 34. Kxf2 e3+ { [%csl Ge1][%cal Gb7a6,Ra6f1,Ge3e2,Ge2e1,Ge8e1] }) 26... Qxh2+ 27. Kf1 exf3 28. gxf3 Qh3+ 29. Ke2 Rxe8+ 30. Kd3 Qxf3+ 31. Kc2 Qxb7) 23... fxe4 24. c6 exf3 (24... Qe3+ 25. Kh1 exf3) 25. Rc2 (25. cxb7 Qe3+ 26. Kh1 fxg2+)  (25. gxf3 Qe3+ 26. Kh1 Qxf3+ 27. Kg1 Rf5) 25... Qe3+ (25... Bc8 26. Bd7) 26. Kh1 (26. Rf2) 26... Bc8 27. Bd7 { [%csl Rd7,Rc8][%cal Gc8f5,Gc8g4] } (27. Bf7 Bg4 28. c7 (28. Rf1 d3 29. Rcf2 d2) 28... fxg2+ 29. Rxg2 Bxd1 30. c8=Q Qe1+ 31. Rg1 Bf3#) 27... f2 { [%cal Gd4d3,Ge3e1,Gc4f1,Ge1d1,Gf2f1,Gf8f1] } 28. Rf1 (28. Qf1 Ba6) 28... d3 29. Rc3 Bxd7 30. cxd7 (30. Rxd3 Be6 (30... Qe2 31. Rc3) 31. Qc2 Qc5) 30... e4 { [%cal Ge3e1] } 31. Qc8 Bd8 32. Qc4 (32. Qc6 Qe1)  (32. Rcc1 Qf4 { [%cal Ge4e3,Ge3e2] }) 32... Qe1 33. Rc1 d2 34. Qc5 Rg8 35. Rd1 e3 36. Qc3 Qxd1 37. Rxd1 e2 0-1
`,
  commentMin1: `1. d4 { some comment! } d5 { and some more! } 2. Nc3`,
  commentMin2: ` 1. e4 { mainline comment! } e5 2. f4 Nf6 (2... Be7 { some comment } 3. Nf3 { another comment }) 3. Nc3 * `,
  shapeMin1: `{ [%csl Gd4,Gf5] }
1. d4 {before [%cal Re2e4] between [%csl Ye5] after} d5 { and some more! }`,
  e4idea1: `
[Event "4. e4! Idea in Rapport-Jobava System: Casabianka's Line"]
[Site "https://lichess.org/study/AiSH1ore/feJhofs0"]
[Result "*"]
[UTCDate "2022.07.19"]
[UTCTime "12:23:50"]
[Variant "Standard"]
[ECO "D01"]
[Opening "Rapport-Jobava System"]
[Annotator "https://lichess.org/@/continuum12"]

{ [%csl Gd4,Gf5] }
1. d4 {before [%cal Re2e4] between [%csl Ye5] after} d5 { and some more! } 2. Nc3 Nf6 3. Bf4 { The Rapport-Jobava system. If you do not yet know what this is, I recommend checking out https://lichess.org/@/continuum12/blog/introducingthe-rapport-jobava-system/R6iFupKK. } 3... c5 4. e4!? { Gambit2Mate's idea; it is not original (has been played before) but Gambit2Mate and others are analyzing this line more extensively and adding a lot of novelties. } 4... Nxe4 { See "other lines" for other lines. However, Nxe4 is the mainline and then best line for Black. } 5. Nb5 $146 { Casabianka suggested this surprisingly practical choice that the computer dislikes at first but then realizes it is fine: } 5... Na6 6. f3 Nf6 7. dxc5 g6! { Only way to develop the bishop for Black. } (7... e6? 8. Nd6+ { Runs into this annoying Nd6 idea }) 8. Be5 Bg7 9. Nc3 { [%csl Rd5][%cal Gc3d5,Gd1d5,Ge5h8] } 9... O-O (9... Nxc5!? { The top engine line that leads to something I cannot yet fully comprehend: } 10. Nxd5 O-O { wow! } 11. Nc7 Ncd7 { Exchange sac: } 12. Nxa8 Nxe5 13. Qxd8 Rxd8 14. Nc7 Bf5 15. c3 Rd7 16. Nb5 Bd3 { Black's activity allows more than enough compensation according to the engine. }) 10. Bxa6 (10. Bxf6? Bxf6 11. Nxd5 Bxb2 12. Rb1 Bg7 13. c4?! { For example } 13... Nxc5 $19 { Is just not good for White! White's weakened king and lack of development causes way too much prblems } { [%cal Ga8c8,Gc8f5,Gd8a5] }) 10... bxa6 11. Nge2 e6 12. Qd4 Nh5 13. O-O-O { Casabianka - continuum12, 1-0, -, lichess.org/Syv5DHdg7U3p } { [%cal Gg2g4,Gh2h4] } *
`,
};

[
  {
    pgn: pgns.e4idea1,
    showMoves: true,
    scrollToMove: true,
  },
].forEach((cfg, i) => LichessPgnViewer(document.querySelector(`.viewers > div:nth-child(${i + 1})`), cfg));
